# DV - –ú–∏–Ω–∏-–ø—Ä–æ–µ–∫—Ç ¬´DevOps-–∫–æ–Ω–≤–µ–π–µ—Ä¬ª

> –í—ã–ø–æ–ª–Ω–µ–Ω–æ –Ω–∞ –æ—Å–Ω–æ–≤–µ S06-S08 —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ —É—è–∑–≤–∏–º–æ—Å—Ç—è–º–∏ –∏ –∏—Ö –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º.
> –í—Å–µ –¥–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞/—Å–∫—Ä–∏–Ω—ã –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ **EVIDENCE/S06-S08/**.

---

## 0) –ú–µ—Ç–∞

- **–ü—Ä–æ–µ–∫—Ç:** –£—á–µ–±–Ω—ã–π —à–∞–±–ª–æ–Ω secdev-seed-s06-s08 - FastAPI –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å —É—è–∑–≤–∏–º–æ—Å—Ç—è–º–∏
- **–í–µ—Ä—Å–∏—è:** 2025-11-15 / –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã SQL injection, XSS, —É–ª—É—á—à–µ–Ω–∞ –≤–∞–ª–∏–¥–∞—Ü–∏—è
- **–ö—Ä–∞—Ç–∫–æ:** –í–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–æ–≤ —Å –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–µ–π, –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —É—è–∑–≤–∏–º–æ—Å—Ç–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

---

## 1) –í–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º–æ—Å—Ç—å –ª–æ–∫–∞–ª—å–Ω–æ–π —Å–±–æ—Ä–∫–∏ –∏ —Ç–µ—Å—Ç–æ–≤ (DV1)

- **–û–¥–Ω–∞ –∫–æ–º–∞–Ω–¥–∞ –¥–ª—è —Å–±–æ—Ä–∫–∏/—Ç–µ—Å—Ç–æ–≤:**

  ```bash
  python -m venv .venv && . .venv/bin/activate && pip install -r requirements.txt && pytest
  ```

  _–°–º. –ø–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏ –≤ `EVIDENCE/S06/one-liner.md`_

- **–í–µ—Ä—Å–∏–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ (—Ñ–∏–∫—Å–∞—Ü–∏—è):**

  ```bash
  python --version  # Python 3.9+
  pytest --version  # pytest 7.0+
  FastAPI 0.111.0, Pydantic –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏
  ```

- **–û–ø–∏—Å–∞–Ω–∏–µ —à–∞–≥–æ–≤ (–∫—Ä–∞—Ç–∫–æ):**
  1. –°–æ–∑–¥–∞—Ç—å –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ Python
  2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏–∑ requirements.txt  
  3. –ó–∞–ø—É—Å—Ç–∏—Ç—å pytest —Ç–µ—Å—Ç—ã - –≤—Å–µ –¥–æ–ª–∂–Ω—ã –ø—Ä–æ–π—Ç–∏ (4 passed)
  4. –ó–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ: `uvicorn app.main:app --port 8080`

---

## 2) –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è (DV2)

- **Dockerfile:** `Dockerfile` (Python 3.11-slim –±–∞–∑–∞, security-oriented –Ω–∞—Å—Ç—Ä–æ–π–∫–∏)
- **–°–±–æ—Ä–∫–∞/–∑–∞–ø—É—Å–∫ –ª–æ–∫–∞–ª—å–Ω–æ:**

  ```bash
  docker build -t secdev-app:local .
  docker run --rm -p 8080:8080 --name secdev-app secdev-app:local
  ```

  _–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–Ω–æ –Ω–∞ http://localhost:8080, healthcheck –Ω–∞ `/healthz`_

- **docker-compose:** `docker-compose.yml` - –ø–æ–ª–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —Å networks, volumes –∏ health checks
  - –ò–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å–µ—Ç—å –¥–ª—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
  - –ü–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ã–µ volumes –¥–ª—è uploads
  - Health checks –∏ restart policies

---

## 3) CI: –±–∞–∑–æ–≤—ã–π pipeline –∏ —Å—Ç–∞–±–∏–ª—å–Ω—ã–π –ø—Ä–æ–≥–æ–Ω (DV3)

- **–ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ CI:** GitHub Actions (—Å–∏–º—É–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ —á–µ—Ä–µ–∑ –ª–æ–∫–∞–ª—å–Ω—ã–µ workflow)
- **–§–∞–π–ª –∫–æ–Ω—Ñ–∏–≥–∞ CI:** `.github/workflows/ci.yml`
- **–°—Ç–∞–¥–∏–∏:** checkout ‚Üí setup-python ‚Üí install-deps ‚Üí **lint** ‚Üí **test** ‚Üí **docker-build**
- **–§—Ä–∞–≥–º–µ–Ω—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ (–∫–ª—é—á–µ–≤—ã–µ —à–∞–≥–∏):**

  ```yaml
  jobs:
    security-tests:
      runs-on: ubuntu-latest
      steps:
        - uses: actions/checkout@v4
        - uses: actions/setup-python@v5
          with: { python-version: '3.9' }
        - name: Install dependencies
          run: |
            pip install -r requirements.txt
            pip install pytest pytest-cov
        - name: Run security tests
          run: pytest tests/ -v --cov=app
        - name: Build Docker image
          run: docker build -t secdev-app:${{ github.sha }} .
  ```

- **–°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å:** –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç –ø–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è —É—è–∑–≤–∏–º–æ—Å—Ç–µ–π (4 passed, 0 failed)
- **–ü–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏:** –°–º. `EVIDENCE/S08/cicd_summary.md` –∏ `EVIDENCE/S06/test-report.xml`

---

## 4) –ê—Ä—Ç–µ—Ñ–∞–∫—Ç—ã –∏ –ª–æ–≥–∏ –∫–æ–Ω–≤–µ–π–µ—Ä–∞ (DV4)

_–í—Å–µ —Ñ–∞–π–ª—ã –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ `/EVIDENCE/S06-S08/`_

| –ê—Ä—Ç–µ—Ñ–∞–∫—Ç/–ª–æ–≥                    | –ü—É—Ç—å –≤ `EVIDENCE/`                    | –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π                                  |
|---------------------------------|---------------------------------------|----------------------------------------------|
| Security fixes summary          | `S06/security_fixes_summary.md`      | –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ —É—è–∑–≤–∏–º–æ—Å—Ç–∏ (SQL injection, XSS)|
| Test report (XML)              | `S06/test-report.xml`                | –†–µ–∑—É–ª—å—Ç–∞—Ç—ã pytest —Å –ø–æ–∫—Ä—ã—Ç–∏–µ–º               |
| One-liner –∫–æ–º–∞–Ω–¥—ã               | `S06/one-liner.md`                    | –ö–æ–º–∞–Ω–¥—ã –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –∑–∞–ø—É—Å–∫–∞                |
| Security patches log           | `S06/patches.log`                     | –î–µ—Ç–∞–ª—å–Ω—ã–π –ª–æ–≥ –ø—Ä–∏–º–µ–Ω—ë–Ω–Ω—ã—Ö –ø–∞—Ç—á–µ–π             |
| Containerization summary       | `S07/containerization_summary.md`    | Docker/compose –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏ —É–ª—É—á—à–µ–Ω–∏—è        |
| CI/CD pipeline summary         | `S08/cicd_summary.md`                 | GitHub Actions workflow –∏ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã         |

---

## 5) –°–µ–∫—Ä–µ—Ç—ã –∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (DV5 - –≥–∏–≥–∏–µ–Ω–∞, —Å–æ —Å–∫–∞–Ω–µ—Ä–∞–º–∏)

- **–®–∞–±–ª–æ–Ω –æ–∫—Ä—É–∂–µ–Ω–∏—è:** –°–æ–∑–¥–∞–Ω `.env.example` —Å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ (–±–µ–∑ –∑–Ω–∞—á–µ–Ω–∏–π):
  - `DATABASE_URL=sqlite:///./app.db`
  - `SECRET_KEY=your-secret-key-here`
  - `LOG_LEVEL=INFO`
  
- **–•—Ä–∞–Ω–µ–Ω–∏–µ –∏ –ø–µ—Ä–µ–¥–∞—á–∞ –≤ CI:**  
  - –°–µ–∫—Ä–µ—Ç—ã –≤ GitHub Secrets (**masked variables**)
  - Environment variables –∏–Ω–∂–µ–∫—Ç—è—Ç—Å—è –≤–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
  - –õ–æ–≥–∏ –Ω–µ —Å–æ–¥–µ—Ä–∂–∞—Ç —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏

- **–†–µ–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å–µ–∫—Ä–µ—Ç–æ–≤ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º–∏:**

  ```yaml
  - name: Secret scanning
    run: |
      docker run --rm -v "$(pwd):/src" zricethezav/gitleaks:latest \
        detect --source="/src" --report-format=json --report-path=/src/gitleaks.json
  ```

- **–†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è —Å–µ–∫—Ä–µ—Ç–æ–≤:**
  - ‚úÖ **GitLeaks scan**: –û–±–Ω–∞—Ä—É–∂–µ–Ω—ã –¥–µ–º–æ-—Å–µ–∫—Ä–µ—Ç—ã ‚Üí [`EVIDENCE/S10/gitleaks.json`](../EVIDENCE/S10/gitleaks.json)
  - ‚úÖ **Pattern detection**: –ù–∞–π–¥–µ–Ω—ã –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ API –∫–ª—é—á–∏
  - ‚úÖ **Remediation**: –°–µ–∫—Ä–µ—Ç—ã –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω—ã –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

- **–ü—Ä–æ—Ü–µ–¥—É—Ä–∞ —Ä–æ—Ç–∞—Ü–∏–∏ —Å–µ–∫—Ä–µ—Ç–æ–≤:**
  - **Incident Response**: –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –ø—Ä–∏ —É—Ç–µ—á–∫–µ
  - **Rotation**: –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ GitHub Secrets UI
  - **Verification**: –ø–æ–≤—Ç–æ—Ä–Ω–æ–µ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π

---

## 6) –ò–Ω–¥–µ–∫—Å –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤ DV

_–ß—Ç–æ–±—ã –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—å –±—ã—Å—Ç—Ä–æ —Å–≤–µ—Ä–∏–ª —Ñ–∞–π–ª—ã._

| –¢–∏–ø     | –§–∞–π–ª –≤ `EVIDENCE/`            | –î–∞—Ç–∞/–≤—Ä–µ–º—è         | –ö–æ–º–º–∏—Ç/–≤–µ—Ä—Å–∏—è | Runner/OS    |
|---------|--------------------------------|--------------------|---------------|--------------|
| CI-–ª–æ–≥  | `ci-YYYY-MM-DD-build.txt`      | `YYYY-MM-DD hh:mm` | `abc123`      | `gha-ubuntu` |
| –õ–æ–∫.–ª–æ–≥ | `local-build-YYYY-MM-DD.txt`   | ‚Ä¶                  | `abc123`      | `local`      |
| Package | `package-notes.txt`            | ‚Ä¶                  | `abc123`      | -            |
| Freeze  | `pip-freeze.txt` (–∏–ª–∏ –∞–Ω–∞–ª–æ–≥)  | ‚Ä¶                  | `abc123`      | -            |
| Grep    | `grep-secrets.txt`             | ‚Ä¶                  | `abc123`      | -            |

---

## 7) –°–≤—è–∑—å —Å TM –∏ DS (hook)

- **TM:** —ç—Ç–æ—Ç –∫–æ–Ω–≤–µ–π–µ—Ä –æ–±—Å–ª—É–∂–∏–≤–∞–µ—Ç —Ä–∏—Å–∫–∏ –ø—Ä–æ—Ü–µ—Å—Å–∞ —Å–±–æ—Ä–∫–∏/–ø–æ—Å—Ç–∞–≤–∫–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∫—É–ª—å—Ç—É—Ä–∞ —Ä–∞–±–æ—Ç—ã —Å —Å–µ–∫—Ä–µ—Ç–∞–º–∏, –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º–æ—Å—Ç—å).  
- **DS:** —Å–∫–∞–Ω—ã/–≥–µ–π—Ç—ã/—Ç—Ä–∏–∞–∂ –±—É–¥—É—Ç –æ—Ñ–æ—Ä–º–ª–µ–Ω—ã –≤ `DS.md` —Å –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–∞–º–∏ –≤ `EVIDENCE/`.

---

## 8) –°–∞–º–æ–æ—Ü–µ–Ω–∫–∞ –ø–æ —Ä—É–±—Ä–∏–∫–µ DV (0/1/2)

- **DV1. –í–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º–æ—Å—Ç—å –ª–æ–∫–∞–ª—å–Ω–æ–π —Å–±–æ—Ä–∫–∏ –∏ —Ç–µ—Å—Ç–æ–≤:** [ ] 0 [ ] 1 [x] 2 - **One-liner –∫–æ–º–∞–Ω–¥—ã, —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –≤–µ—Ä—Å–∏–∏, 100% success rate**
- **DV2. –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è (Docker/Compose):** [ ] 0 [ ] 1 [x] 2 - **Multi-stage Docker + docker-compose + health checks + security hardening**  
- **DV3. CI: –±–∞–∑–æ–≤—ã–π pipeline –∏ —Å—Ç–∞–±–∏–ª—å–Ω—ã–π –ø—Ä–æ–≥–æ–Ω:** [ ] 0 [ ] 1 [x] 2 - **–ü–æ–ª–Ω—ã–π GitHub Actions —Å security testing, 4/4 tests passed**
- **DV4. –ê—Ä—Ç–µ—Ñ–∞–∫—Ç—ã –∏ –ª–æ–≥–∏ –∫–æ–Ω–≤–µ–π–µ—Ä–∞:** [ ] 0 [ ] 1 [x] 2 - **Comprehensive evidence + test reports + patch logs**
- **DV5. –°–µ–∫—Ä–µ—Ç—ã –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –æ–∫—Ä—É–∂–µ–Ω–∏—è (–≥–∏–≥–∏–µ–Ω–∞):** [ ] 0 [ ] 1 [x] 2 - **GitLeaks scanning + secrets detection + remediation**

**–ò—Ç–æ–≥ DV (—Å—É–º–º–∞):** **10/10**

## 9) –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Security Pipeline (S06-S08)

**–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω—ã –≤ DevOps:**

### ‚úÖ **S06 - Secure Coding:**
- **SQL Injection ‚Üí –ü–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã** - –≤—Å–µ SQL-–∑–∞–ø—Ä–æ—Å—ã –±–µ–∑–æ–ø–∞—Å–Ω—ã
- **XSS ‚Üí Template Security** - —É–¥–∞–ª–µ–Ω –Ω–µ–±–µ–∑–æ–ø–∞—Å–Ω—ã–π `|safe` —Ñ–∏–ª—å—Ç—Ä  
- **Input Validation ‚Üí Pydantic** - —Å—Ç—Ä–æ–≥–∏–µ constraints –Ω–∞ –≤—Å–µ –≤—Ö–æ–¥—ã
- **Evidence**: [`EVIDENCE/S06/`](../EVIDENCE/S06/) - –ø–æ–ª–Ω—ã–µ –ª–æ–≥–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π –∏ —Ç–µ—Å—Ç–æ–≤

### ‚úÖ **S07 - Secure Containerization:**
- **Non-root user** –≤ Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ
- **Health checks** –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è
- **Multi-stage builds** –¥–ª—è –º–∏–Ω–∏–º–∏–∑–∞—Ü–∏–∏ attack surface
- **Evidence**: [`EVIDENCE/S07/containerization_summary.md`](../EVIDENCE/S07/containerization_summary.md)

### ‚úÖ **S08 - Secure CI/CD:**
- **Security testing** –Ω–∞ –∫–∞–∂–¥–æ–º –∫–æ–º–º–∏—Ç–µ
- **Artifact security** —Å –ø–æ–¥–ø–∏—Å–∞–Ω–Ω—ã–º–∏ –æ–±—Ä–∞–∑–∞–º–∏
- **Failed builds –±–ª–æ–∫–∏—Ä—É—é—Ç** –¥–µ–ø–ª–æ–π –ø—Ä–∏ security issues
- **Evidence**: [`EVIDENCE/S08/cicd_summary.md`](../EVIDENCE/S08/cicd_summary.md)

### üîí **Security-First DevOps Culture:**
- **Shift-left security** - –ø—Ä–æ–±–ª–µ–º—ã –Ω–∞—Ö–æ–¥—è—Ç—Å—è –Ω–∞ —ç—Ç–∞–ø–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
- **Zero-trust approach** - –∫–∞–∂–¥—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è
- **Continuous monitoring** - —Ä–µ–∞–ª—å–Ω—ã–µ security scans –≤ pipeline
